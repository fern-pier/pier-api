# yaml-language-server: $schema=https://raw.githubusercontent.com/fern-api/fern/main/fern.schema.json

types:
  id: string
  Address: 
    properties:
      line_1: string
      line_2: optional<string>
      city: string 
      state: 
        type: string 
        docs: 2-digit US state code (e.g. CA, IL, FL)
      zip: 
        type: string 
        docs: 5-digit US zip code
  
  BaseErrorBody:
    properties:
      error_type: string 
      error_code: string 
      error_message: string
  
  InvalidInput:
    extends: BaseErrorBody 
    properties: 
      error_detail: list<ErrorDetail>

  ErrorDetail: 
    properties:
      value: string 
      msg: string 
      param: string 
      location: string 
  
  DuplicateEin: 
    extends: BaseErrorBody 

  DuplicateSsn: 
    extends: BaseErrorBody 

  BorrowerNotFound: 
    extends: BaseErrorBody

errors:
  ServerError:
    status-code: 500
  RateLimitError:
    status-code: 429
    docs: |
      Pier's rate limit is set to 1,000 requests per minute. 
      The limit applies to both the sandbox and production environments.
  InvalidInputError: 
    status-code: 400
    type: InvalidInput
  DuplicateEinError:
    status-code: 400
  DuplicateSsnError: 
    status-code: 400
    type: DuplicateSsn
  BorrowerNotFoundError:
    status-code: 404
    type: BorrowerNotFound 